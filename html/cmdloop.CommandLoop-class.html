<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>cmdloop.CommandLoop</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="cmdloop-module.html">Module&nbsp;cmdloop</a> ::
        Class&nbsp;CommandLoop
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="cmdloop.CommandLoop-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class CommandLoop</h1><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop">source&nbsp;code</a></span><br /><br />
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">CommandLoop</strong>
</pre>

<hr />
<pre class="literalblock">
CommandLoop provides a straight forward base class for implementing
simple command loop environments. CommandLoop is meant to be sub-classed,
and collects its commands through introspection on the class. It does all
of this without defining an __init__ method, so subclasses are free to
define their own __init__ methods.

Subclasses define new commands by defining methods whose names end in
'Cmd', take two arguments, a dict of flag values, and a list of
positional arguments.

The command aliases are defined by the cmdloop.aliases decorator;
the optional shorthelp is defined by the cmdloop.shorthelp decorator;
the optional usage is decorator by the cmdloop.usage decorator; and
the command's __doc__ string is used to show help for the command.

To create a command with aliases 'foo', 'bar', and 'f', one would
probably use:

@cmdloop.aliases('foo', 'bar', 'f')
@cmdloop.shorthelp('A line of short help')
@cmdloop.usage('foo [ARGS]')
def fooCmd(self, flags, args):
    '''
    Extended help, only displayed when help is requested on this command.
    '''
    # check flags and args, throw InvalidArguments if you don't like em.
    # do stuff with flags and args

You probably want to exit the CommandLoop at some point, and while the
user can signal this with a ^D to the prompt, a 'done', 'quit', or 'exit'
command might be more useful. You may want to use something like the
quitCmd below.

def quitCmd(self, flags, args):
    '''quit exit
    Quit.
    '''
    raise cmdloop.HaltLoop

Perhaps you only wish to exit a sub environment, and don't want to
present a 'quit' option to your user. In this case, this doneCmd may be
more in line with your needs.

def doneCmd(self, flags, args):
    '''done
    Exit this sub-environment.
    '''
    raise cmdloop.HaltLoop

CommandLoop provides a few public methods:
    pushCommandLine(cmds) - push a command line onto the command stack.
    pushCommands(cmds) - push one or more commands onto the command stack.
    runLoop() - Run the loop until HaltLoop is raised by the prompt or a
                            command.

CommandLoop also provides a 'help' command:
    helpCmd() - command which provides CommandLoop's help functionality.

And some help for the use of Cmds:
    cmdError() - print an error message.
    InvalidArguments - an exception to throw if your arguments are bad.
    HaltLoop - an exception to throw if you want to halt the loop.

More ambitious users may wish to override:
    _getInput() - run to get a string from the user.
    _PS1Func() - run to get the string to use as PS1.
    _preCommand() - rewriter run on a command before it is run.
    _postCommand() - run after each command, can exit loop.
    _unknownCommand() - run when a command isn't known.
    _onLoopStart() - run before the loop starts,
                                     with the option of stopping it.
    _onLoopExit() - run when the loop is exiting,
                                    with the option of continuing.

There are also a number of attributes of interest:
    PREAMBLE - the preamble string printed by runLoop().
    CASE_SENSITIVE - Is the shell case sensitive? Defaults to True.
    PS1 - the string which the base version of _PS1Func() returns.
    PS2 - the string which the shell uses for extended prompting.

If you wish to use CommandLoop to build dialogs that are not
stdin/stdout, you will need to use OUT and _getInput().
    OUT - the file descriptor used for output by all CommandLoop code,
          You should always use print &gt;&gt; self.OUT in your command code.
    _getInput() - the function which gets input from the user, throws
          HaltLoop when the user wants to exit.

Note: runLoop() exits when HaltLoop is raised, but the CommandLoop is
    still in a valid state. If it is meaningful for your subclass, you
    can re-invoke runLoop() again at a later time, and it will resume
    processing with the next command on the command stack.

</pre><br /><br />

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_getInput" class="summary-sig-name">_getInput</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">prompt</span>)</span><br />
      A small wrapper which adapts the exceptions thrown by raw_input() 
to the form needed by CommandLoop.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._getInput">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_PS1Func" class="summary-sig-name">_PS1Func</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Function called whenever PS1 is needed.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._PS1Func">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_mapCommands" class="summary-sig-name">_mapCommands</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Determine the commands, command aliases, and command help for this
      class through introspection on the object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._mapCommands">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#helpCmd" class="summary-sig-name">helpCmd</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">flags</span>,
        <span class="summary-sig-arg">args</span>)</span><br />
      Run 'help' to see a list of commands, run 'help COMMAND' to see 
      extended help on a given command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.helpCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#cmdError" class="summary-sig-name">cmdError</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">msg</span>)</span><br />
      Complain about an error with a command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.cmdError">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_preCommand" class="summary-sig-name">_preCommand</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>)</span><br />
      This method is given each command as an argument list before it is
run.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._preCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_postCommand" class="summary-sig-name">_postCommand</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This method is invoked after each command is run.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._postCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#runLoop" class="summary-sig-name">runLoop</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">preamble</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">help</span>=<span class="summary-sig-default">True</span>)</span><br />
      Run the command loop.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.runLoop">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_unknownCommand" class="summary-sig-name">_unknownCommand</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmdname</span>,
        <span class="summary-sig-arg">flags</span>,
        <span class="summary-sig-arg">args</span>)</span><br />
      Override-able method which gets called when a command is not
recognized.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._unknownCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_onLoopStart" class="summary-sig-name">_onLoopStart</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Override-able method which gets called when the loop is started.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._onLoopStart">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_onLoopExit" class="summary-sig-name">_onLoopExit</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Override-able method which gets called when the loop is exiting.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._onLoopExit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#pushCommandLine" class="summary-sig-name">pushCommandLine</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmdline</span>)</span><br />
      Push a command line onto the command stack.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.pushCommandLine">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#pushCommands" class="summary-sig-name">pushCommands</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*cmds</span>)</span><br />
      Push one or more commands onto the command stack.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.pushCommands">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_nextCommand" class="summary-sig-name">_nextCommand</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Seek and return the next command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._nextCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_promptUser" class="summary-sig-name">_promptUser</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Prompt the user for more input, until we receive a complete parse,
or the user tells us to stop.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._promptUser">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_parseCommandArgs" class="summary-sig-name">_parseCommandArgs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">args</span>)</span><br />
      Given an argument list for a command, parse it into a command name,
a dictionary of flag values, and a set of positional arguments (not
including the command name).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._parseCommandArgs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_unparseCommandArgs" class="summary-sig-name">_unparseCommandArgs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmdname</span>,
        <span class="summary-sig-arg">flags</span>,
        <span class="summary-sig-arg">args</span>)</span><br />
      Given a command name, a dictionary of flag values, and a positional
argument list, construct a command argument list.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._unparseCommandArgs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cmdloop.CommandLoop-class.html#_parseCommandLine" class="summary-sig-name">_parseCommandLine</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmdline</span>)</span><br />
      Given a string, attempt to parse it in a pseudo-sh like manner.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._parseCommandLine">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__init__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="PREAMBLE"></a><span class="summary-name">PREAMBLE</span> = <code title="''"><code class="variable-quote">'</code><code class="variable-string"></code><code class="variable-quote">'</code></code><br />
      Sets if the shell commands are case sensitive.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="CASE_SENSITIVE"></a><span class="summary-name">CASE_SENSITIVE</span> = <code title="True">True</code><br />
      User prompt 1, used as the main prompt.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="PS1"></a><span class="summary-name">PS1</span> = <code title="'&gt;&gt;'"><code class="variable-quote">'</code><code class="variable-string">&gt;&gt;</code><code class="variable-quote">'</code></code><br />
      User prompt 2, used for multi-line input.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="PS2"></a><span class="summary-name">PS2</span> = <code title="'&gt;'"><code class="variable-quote">'</code><code class="variable-string">&gt;</code><code class="variable-quote">'</code></code><br />
      The file object to use for output, defaults to sys.stdout.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="OUT"></a><span class="summary-name">OUT</span> = <code title="sys.stdout">sys.stdout</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_cmd_stack"></a><span class="summary-name">_cmd_stack</span> = <code title="None">None</code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_getInput"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_getInput</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">prompt</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._getInput">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
A small wrapper which adapts the exceptions thrown by raw_input() 
to the form needed by CommandLoop. Subclasses which wish to provide
their own input must override _getInput.

Returns:
    a line of input

Throws:
    HaltLoop

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_PS1Func"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_PS1Func</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._PS1Func">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Function called whenever PS1 is needed. By default, returns
self.PS1, but subclasses could easily use it to display dynamic status
information, such as the current directory, or the time.

Returns:
    a string to be used as PS1

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_mapCommands"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_mapCommands</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._mapCommands">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  Determine the commands, command aliases, and command help for this 
  class through introspection on the object. Needs to be done once in the 
  lifetime of an instance.
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="helpCmd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">helpCmd</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">flags</span>,
        <span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.helpCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  Run 'help' to see a list of commands, run 'help COMMAND' to see 
  extended help on a given command.
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@aliases('help', '?')</code></li>
        <li><code>@shorthelp('display help')</code></li>
        <li><code>@usage('help [COMMAND]')</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="cmdError"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">cmdError</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>,
        <span class="sig-arg">msg</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.cmdError">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">

Complain about an error with a command.

Args:
    cmd - A bound command.
    msg - the error message.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_preCommand"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_preCommand</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._preCommand">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
This method is given each command as an argument list before it is
run.  _preCommand() may then return a command argument list, which gets
run immediately, or None, to indicate that this command has been
swallowed. _preCommand() may take other actions, including calling
pushCommands().

Classes overriding this method could use it to implement variables, or
more complex macros.

Returns:
    a cmd argument list, or None.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_postCommand"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_postCommand</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._postCommand">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
This method is invoked after each command is run. 

Classes overriding this method could use it to implement variables, or
more complex macros.

Throws:
    HaltLoop - if we want the loop to halt.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="runLoop"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">runLoop</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">preamble</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">help</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.runLoop">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Run the command loop.

Args:
    preamble=True: display self.PREAMBLE before the loop starts.
    help=True: pushCommands(('help',)) before the loop starts.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_unknownCommand"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_unknownCommand</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmdname</span>,
        <span class="sig-arg">flags</span>,
        <span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._unknownCommand">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Override-able method which gets called when a command is not
recognized.

Args:
    cmdname - the name of the command.
    flags - the command flags.
    args - the command args.

Throws:
    HaltLoop if the loop should exit.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_onLoopStart"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_onLoopStart</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._onLoopStart">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Override-able method which gets called when the loop is started.

Throws:
    HaltLoop if the loop should exit immediately.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_onLoopExit"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_onLoopExit</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._onLoopExit">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Override-able method which gets called when the loop is exiting.

Throws:
    HaltLoop if the loop should exit.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="pushCommandLine"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">pushCommandLine</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmdline</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.pushCommandLine">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Push a command line onto the command stack. Multiple commands can be
separated by a semicolon (';') character.

Ex:
    cloop.pushCommandLine('help bar')
    cloop.pushCommandLine('help; help foo')

The first example would push &quot;help bar&quot; command onto the stack, while
the second would push a &quot;help&quot; command followed by a &quot;help foo&quot; command.
Because this is a command stack, the execution order would be:
    help
    help foo
    help bar

Throws:
    ParseIncomplete - if the line won't parse.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="pushCommands"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">pushCommands</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*cmds</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop.pushCommands">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Push one or more commands onto the command stack. These commands must
each be either a list or tuple of string tokens.

Ex:
    cloop.pushCommands(('help','bar'))
    cloop.pushCommands(('help',), ('help','foo'))

The first example would push &quot;help bar&quot; command onto the stack, while
the second would push a &quot;help&quot; command followed by a &quot;help foo&quot; command.
Because this is a command stack, the execution order would be:
    help
    help foo
    help bar

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_nextCommand"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_nextCommand</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._nextCommand">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Seek and return the next command. If the command stack is empty,
pull more commands using self._promptUser(), then check again.

Returns:
    A parsed command tuple (cmdname, flags, args)

Throws:
    HaltLoop - via self._promptUser(),
               which indicates the loop should end.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_promptUser"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_promptUser</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._promptUser">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Prompt the user for more input, until we receive a complete parse,
or the user tells us to stop. This uses PS1 and PS2 for prompts.

Returns:
    a list of commands.

Throws:
    HaltLoop - to indicate that the user wishes to halt the loop
        without issuing another command.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_parseCommandArgs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_parseCommandArgs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._parseCommandArgs">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Given an argument list for a command, parse it into a command name,
a dictionary of flag values, and a set of positional arguments (not
including the command name). Flags and positional arguments may be
intermixed, but the special argument '--' will force all further
arguments to be treated positionally.

Flags and their values:
    -x        { 'x': 1 }
    -X        { 'x': 0 }
    -xYX      { 'x': 0, 'y': 0 }
    --foo     { 'foo': 1 }
    --no-foo  { 'foo': 0 }
    --foo=7   { 'foo': '7' }

Returns:
    (cmdname, flags, args) - a tuple of string, dict, list

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_unparseCommandArgs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_unparseCommandArgs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmdname</span>,
        <span class="sig-arg">flags</span>,
        <span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._unparseCommandArgs">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Given a command name, a dictionary of flag values, and a positional
argument list, construct a command argument list.

Args:
    cmdname - the name of the command.
    flags - a dict of the command's flags.
    args - a list of the command's positional arguments.

Returns:
    a command argument list.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_parseCommandLine"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_parseCommandLine</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmdline</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cmdloop-pysrc.html#CommandLoop._parseCommandLine">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">
Given a string, attempt to parse it in a pseudo-sh like manner.
This function can be overridden by those wishing to use a different
parser.

Returns:
    A list of commands.

Ex:
    parseCommandLine('foo bar ; baz') == [['foo', 'bar'], ['baz']]
    
Throws:
    ParseIncomplete - some escape or quoting context has not been
        closed, and the parse cannot be completed without more input.
    CommandSyntaxError - the string has unrecoverable syntax errors.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0beta1 on Sat Mar 03 11:01:14 2007
    </td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
